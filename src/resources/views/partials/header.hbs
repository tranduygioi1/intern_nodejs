<nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container-fluid">
    <!-- Logo -->
    <a class="navbar-brand" href="/home">
      <i class="bi bi-globe2"></i> Intern
    </a>

    <!-- Toggle cho mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto me-3">
        {{#if name}}
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
              
              <!-- Nếu user có avatar -->
              {{#if avatar}}
                <img src="{{avatar}}" alt="Avatar" 
                     class="rounded-circle me-2 border border-2 border-light"
                     width="36" height="36" style="object-fit: cover;">
              {{else}}
                <!-- Nếu chưa có thì hiện chữ cái đầu -->
                <div class="user-avatar me-2">
                  {{userInitials}}
                </div>
              {{/if}}

              <!-- Tên user -->
              <span>{{name}}</span>
            </a>

            <!-- Dropdown -->
            <ul class="dropdown-menu dropdown-menu-end">
              <li>
                <a class="dropdown-item" href="/home/my-profile">
                  <i class="bi bi-person me-2"></i> Hồ sơ của tôi
                </a>
              </li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <a class="dropdown-item text-danger" href="/logout">
                  <i class="bi bi-box-arrow-right me-2"></i> Đăng xuất
                </a>
              </li>
            </ul>
          </li>
        {{/if}}
      </ul>
    </div>
  </div>
</nav>

<style>
  .user-avatar {
    width: 36px;
    height: 36px;
    font-size: 16px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #007DC3;
    color: #ffffff;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s ease-in-out;
  }

  .dropdown-menu {
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  }
</style>
